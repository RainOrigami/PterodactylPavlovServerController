@using Fluxor;
@using PavlovVR_Rcon.Models.Pavlov;
@using PterodactylPavlovServerController.Models;
@using PterodactylPavlovServerController.Pages.Rcon.SubComponents
@using PterodactylPavlovServerController.Services;
@using PterodactylPavlovServerController.Stores;
@using Steam.Models.SteamCommunity;
@inject IDispatcher Dispatcher
@inject PavlovRconService RconService
@inject IToastService Toast
@inject ApiKeyService ApiKey
@inject IState<PlayersState> PlayersState
@inject AuditService AuditService

<div class="tab-pane container active px-0" id="server">
    <AddOrREemoveModeratorComponent Connection="Connection" ServerInfo="ServerInfo" />

    @if (!LeagueMode)
    {
        <LimitedAmmoTypeComponent Connection="Connection" ServerInfo="ServerInfo" />

        <CustomCommandComponent Connection="Connection" ServerInfo="ServerInfo" />
    }

    <ResetSNDComponent Connection="Connection" ServerInfo="ServerInfo" />

    <SetPinComponent Connection="Connection" ServerInfo="ServerInfo" />

    @if (!LeagueMode)
    {
        <ShowNametagsComponent Connection="Connection" ServerInfo="ServerInfo" />
    }
</div>

@code {
    [Parameter]
    [EditorRequired]
    public PavlovRconConnection Connection { get; set; }

    [Parameter]
    [EditorRequired]
    public ServerInfo ServerInfo { get; set; }

    [Parameter]
    [EditorRequired]
    public bool LeagueMode { get; set; }
}
